<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta
			name="viewport"
			content="width=device-width, initial-scale=1, shrink-to-fit=no"
		/>
		<link
			href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css"
			rel="stylesheet"
			integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6"
			crossorigin="anonymous"
		/>
		<link rel="stylesheet" href="lib/jquery-ui-1.12.1.custom/jquery-ui.css" />
		<link rel="stylesheet" href="app.css" />
		<link
			href="https://fonts.googleapis.com/icon?family=Material+Icons"
			rel="stylesheet"
		/>

		<title>PixelDrop</title>
	</head>
	<body>
		<div id="mainContainer" class="container">
			<div id="canvasNavPanel" class="row my-3">
				<div id="canvasOptions" class="col-lg-2 btn-group btn-group-sm">
					<button
						id="newCanvasBtn"
						class="btn btn-secondary btn-sm border border-dark border-1"
						data-bs-toggle="modal"
						data-bs-target="#newCanvasModal"
					>
						New
					</button>
					<button
						id="saveCanvasBtn"
						class="btn btn-secondary btn-sm border border-dark border-1"
					>
						Save
					</button>
					<button
						id="loadCanvasBtn"
						class="btn btn-secondary btn-sm border border-dark border-1"
					>
						Load
					</button>
				</div>
			</div>
			<div id="midContainer" class="row">
				<div id="stagePanelContainer" class="col-lg-10 order-lg-last">
					<div id="stagePanel" class="p-0 stagePanel-vert">
						<div id="stage">
							<div id="stageLayers"></div>
						</div>
					</div>
				</div>

				<div
					id="controlsContainer"
					class="px-2 py-3 shadow border border-1 border-secondary col-lg-2"
				>
					<div
						id="controls"
						class="controls-vert d-flex flex-nowrap flex-lg-column justify-content-center"
					>
						<div
							id="layerPanelContainer"
							class="mb-2 d-flex flex-column panel shadow-sm border border-2 p-1"
						>
							<div id="layerPanel" class="dropend d-grid p-1">
								<button
									class="btn btn-secondary dropdown-toggle border border-1 border-dark shadow-sm"
									type="button"
									id="layerMenuBtn"
									data-bs-toggle="dropdown"
								>
									Layers
								</button>

								<div
									id="layerMenu"
									class="dropdown-menu"
									aria-labelledby="layerMenu"
								>
									<div id="tileContainer">
										<div
											id="tileTemplate"
											class="tile px-0 pb-2 pt-1 dropdown-item template"
										>
											<div class="d-flex flex-row">
												<div class="layerControlContainer p-2">
													<div class="removeBtn layerBtn" title="Delete Layer">
														<span class="material-icons md-14"> close </span>
													</div>
													<div class="visibleBtn layerBtn">
														<span
															class="material-icons md-14"
															title="Toggle Layer Visibility"
														>
															visibility
														</span>
													</div>
												</div>
												<div class="d-flex flex-column">
													<div
														class="layerTitle"
														data-bs-toggle="modal"
														data-bs-target="#renameTileModal"
														title="Rename Layer"
													>
														<h6><span class="badge bg-dark">temp</span></h6>
													</div>
													<div class="tilePreview border border-2 bg-light">
														<canvas height="10" width="10"></canvas>
													</div>
												</div>
											</div>
										</div>
									</div>
									<div id="newLayerBtn" class="px-1 pb-2 pt-1 dropdown-item">
										<span class="material-icons"> add </span>
									</div>
								</div>
							</div>
							<div
								id="layerPviewContainer"
								class="d-flex justify-content-center"
							>
								<canvas height="0" width="0" id="layerPview"></canvas>
							</div>
						</div>
						<div
							id="colorPickerPanel"
							class="d-flex flex-column panel mb-2 shadow-sm border border-2 p-2"
							data-bs-toggle="tooltip"
							title="Color Select"
						>
							<div id="colorSelector" class="d-flex">
								<div id="currentColor"></div>
								<div id="newColor"></div>
							</div>
							<input type="color" id="colorPicker" value="#000000" />
							<div id="colorHistoryPanel" class="">
								<div
									id="colorHistory"
									class="d-flex flex-wrap start justify-content-center justify-content-start"
								></div>
							</div>
						</div>
						<div id="toolsPanel" class="panel">
							<div
								id="tools"
								class="btn-toolbar d-flex flex-column shadow-sm"
								role="toolbar"
								aria-label="Toolbar with button groups"
							>
								<div
									id="toolGroup1"
									class="btn-group btn-group-sm"
									role="toolbar"
									aria-label="Tool Group 1"
								>
									<button
										type="button"
										id="brush"
										class="btn btn-outline-secondary toolBtn"
										data-bs-toggle="tooltip"
										title="Brush Tool"
									>
										<span class="material-icons"> brush </span>
									</button>
									<button
										type="button"
										id="eraser"
										class="btn btn-outline-secondary toolBtn"
										data-bs-toggle="tooltip"
										title="Eraser Tool"
									>
										<span class="material-icons"> hide_source </span>
									</button>
								</div>
								<div
									id="toolGroup2"
									class="btn-group btn-group-sm"
									role="toolbar"
									aria-label="Tool Group 2"
								>
									<button
										type="button"
										id="moveTool"
										class="btn btn-outline-secondary toolBtn"
										data-bs-toggle="tooltip"
										title="Move Tool"
									>
										<span class="material-icons"> open_with</span>
									</button>
									<button
										type="button"
										id="resizeTool"
										class="btn btn-outline-secondary toolBtn"
										data-bs-toggle="tooltip"
										title="Resize Tool"
									>
										<span class="material-icons"> transform </span>
									</button>
								</div>
								<div
									id="toolGroup3"
									class="btn-group btn-group-sm"
									role="toolbar"
									aria-label="Tool Group 3"
								>
									<button
										type="button"
										id="eyeDrop"
										class="btn btn-outline-secondary toolBtn"
										data-bs-toggle="tooltip"
										title="Color Picker Tool"
									>
										<span class="material-icons"> colorize</span>
									</button>
									<button
										type="button"
										id="fillTool"
										class="btn btn-outline-secondary toolBtn"
										data-bs-toggle="tooltip"
										title="Color Replace Tool"
									>
										<span class="material-icons"> format_color_fill</span>
									</button>
								</div>
							</div>
							<div id="toolSizeContainer" class="p-2">
								<input
									title="1"
									type="range"
									name="toolSlider"
									id="toolSlider"
									value="1"
									min="1"
									max="5"
								/>
							</div>
							<div id="statePanel" class="panel d-grid shadow">
								<div
									class="btn-group btn-group-sm"
									role="group"
									aria-label="undoRedo"
								>
									<button
										id="undo"
										class="btn btn-secondary border border-dark border-1"
										data-bs-toggle="tooltip"
										title="Undo"
									>
										<span class="material-icons"> undo </span>
									</button>
									<button
										id="redo"
										class="btn btn-secondary border border-dark border-1"
										data-bs-toggle="tooltip"
										title="Redo"
									>
										<span class="material-icons"> redo </span>
									</button>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>

		<!-- modals -->
		<div id="newCanvasModal" class="modal">
			<div class="modal-dialog modal-lg" role="document">
				<div class="modal-content">
					<div class="modal-header">
						<h5 class="modal-title">Choose a canvas Size</h5>
						<button
							type="button"
							class="btn-close"
							data-bs-dismiss="modal"
							aria-label="Close"
						></button>
					</div>
					<div class="modal-body">
						<div
							id="cardsContainer"
							class="d-flex flex-wrap justify-content-center"
						>
							<div class="card">
								<h5 class="card-header">UltraSmall</h5>

								<img
									src="/img/flower pot.png"
									class="card-img-top"
									alt="10x10"
								/>
								<div class="card-body">
									<h6 class="card-title">10x10</h6>
									<p class="card-text">Show alot with just alittle!</p>
									<button
										type="button"
										class="btn btn-sm btn-primary createCanvasBtn"
										data-width="10"
										data-height="10"
									>
										Create Canvas
									</button>
								</div>
							</div>
							<div class="card">
								<h5 class="card-header">Quick Icon</h5>

								<img src="" class="card-img-top" alt="20x20" />
								<div class="card-body">
									<h6 class="card-title">20x20</h6>
									<p class="card-text">20x20</p>
									<button
										type="button"
										class="btn btn-sm btn-primary createCanvasBtn"
										data-width="20"
										data-height="20"
									>
										Create Canvas
									</button>
								</div>
							</div>
							<div class="card">
								<h5 class="card-header">Detailed Landscape</h5>
								<img src="" class="card-img-top" alt="60x30" />
								<div class="card-body">
									<h6 class="card-title">60x30</h6>
									<p class="card-text">60x30</p>
									<button
										type="button"
										class="btn btn-sm btn-primary createCanvasBtn"
										data-width="60"
										data-height="30"
									>
										Create Canvas
									</button>
								</div>
							</div>
							<div class="card">
								<h5 class="card-header">Detailed Square</h5>
								<img src="" class="card-img-top" alt="100x100" />
								<div class="card-body">
									<h6 class="card-title">100x100</h6>
									<p class="card-text">100x100</p>
									<button
										type="button"
										class="btn btn-sm btn-primary createCanvasBtn"
										data-width="100"
										data-height="100"
									>
										Create Canvas
									</button>
								</div>
							</div>
							<div class="card">
								<h5 class="card-header">DetailPortrait</h5>
								<img src="" class="card-img-top" alt="45x60" />
								<div class="card-body">
									<h6 class="card-title">45x60</h6>
									<p class="card-text">45x60</p>
									<button
										type="button"
										class="btn btn-sm btn-primary createCanvasBtn"
										data-width="45"
										data-height="60"
									>
										Create Canvas
									</button>
								</div>
							</div>
							<div class="card">
								<h5 class="card-header">Custom Size</h5>
								<img src="" class="card-img-top" alt="custom" />
								<div class="card-body">
									<h6 class="card-title">Custom</h6>
									<p class="card-text">Choose a custom size!</p>
									<button
										type="button"
										class="btn btn-primary"
										data-bs-toggle="modal"
										data-bs-target="#customCanvasModal"
									>
										Choose Size
									</button>
								</div>
							</div>
						</div>
						<div class="modal-footer">
							<button
								type="button"
								class="btn btn-secondary"
								data-bs-dismiss="modal"
							>
								Close
							</button>
						</div>
					</div>
				</div>
			</div>
		</div>
		<!-- custom new canvas -->
		<div id="customCanvasModal" class="modal" tabindex="-1" role="dialog">
			<div class="modal-dialog" role="document">
				<div class="modal-content">
					<div class="modal-header">
						<h5 class="modal-title">Custom Canvas Size</h5>
						<button
							type="button"
							class="btn-close"
							data-bs-dismiss="modal"
							aria-label="Close"
						></button>
					</div>

					<div class="modal-body">
						<form id="newCanvasForm" action="">
							<div class="form-group">
								<label for="width">Width:</label>
								<input
									id="canvasWidthInput"
									class="form-control"
									type="number"
									name="width"
									placeholder="Pixels"
									aria-describedby="canvasWidth"
								/>
							</div>
							<div class="form-group">
								<label for="height">Height:</label>
								<input
									id="canvasHeightInput"
									class="form-control"
									type="number"
									name="height"
									placeholder="Pixels"
									aria-describedby="canvasHeight"
								/>
							</div>

							<div class="modal-footer">
								<button id="submit" type="submit" class="btn btn-primary">
									Create
								</button>
								<button
									type="button"
									class="btn btn-secondary"
									data-bs-dismiss="modal"
								>
									Close
								</button>
							</div>
						</form>
					</div>
				</div>
			</div>
		</div>
		<div
			id="renameTileModal"
			class="modal fade"
			tabindex="-1"
			aria-labelledby="Rename Layer"
			aria-hidden="true"
			data-tileName=""
		>
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<h5 class="modal-title">Rename Layer</h5>
						<button
							type="button"
							class="btn-close"
							data-bs-dismiss="modal"
							aria-label="Close"
						></button>
					</div>
					<div class="modal-body">
						<form id="tileRenameForm" action="">
							<div class="form-group">
								<label for="tileRenameInput">Enter layer name:</label>
								<input
									type="text"
									name="tileRenameInput"
									id="tileRenameInput"
									placeholder=""
								/>
							</div>

							<div class="modal-footer">
								<button
									type="button"
									class="btn btn-secondary"
									data-bs-dismiss="modal"
								>
									Close
								</button>
								<button id="renameBtn" type="submit" class="btn btn-primary">
									Rename
								</button>
							</div>
						</form>
					</div>
				</div>
			</div>
		</div>

		<script src="/lib/jquery.js"></script>
		<script src="lib/jquery-ui-1.12.1.custom/jquery-ui.js"></script>
		<script
			src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.bundle.min.js"
			integrity="sha384-JEW9xMcG8R+pH31jmWH6WWP0WintQrMb4s7ZOdauHnUtxwoG2vI5DkLtS3qm9Ekf"
			crossorigin="anonymous"
		></script>
		<script src="/lib/lodash.js"></script>
		<script src="/lib/C2S.js"></script>
		<script src="tools.js"></script>
		<script src="canvasClass.js"></script>
		<script src="colorPanel.js"></script>
		<script src="layerPanel.js"></script>
		<script src="toolsPanel.js"></script>
		<script src="undoClass.js"></script>
		<script src="statePanel.js"></script>
		<script src="stage.js"></script>
		<script src="hotkeys.js"></script>
		<script src="app.js"></script>
	</body>
</html>
